package util

import "testing"

func TestIsURL(t *testing.T) {
	urlMap := make(map[string]bool)
	urlMap["www.test.com"] = true
	urlMap["test.com"] = true
	urlMap["10.10.10.10"] = false
	urlMap["192.168.0.1"] = false
	urlMap["1"] = false
	urlMap[""] = false
	urlMap["www. space.com"] = false
	urlMap["http://www.test.com"] = true
	longurl := "http://stats.pandora.com/v2?callback=jQuery111103791239608949504_1467813305258&type0=script_error&type0.msg=Script+error.&type0.num=0&type0.ua=Mozilla/5.0+(Windows+NT+6.1;+WOW64)+AppleWebKit/537.36+(KHTML,+like+Gecko)+Chrome/51.0.2704.103+Safari/537.36&type0.browser=Chrome+51+(Windows)&type0.site_version=357122610&type0.flash_ver=22.0.0&type1=mobile_view_mode&type1.page_view=anonymous_listening&type1.view_mode=standard&type1.vendor_id=100&type1.device_id=1880&type1.device_code=1880&type1.device_os=Chrome+51+(Windows)&type1.client_timestamp=2016-07-06+13:55:08&type1.sequence_number=1&type1.listener_id=716270507&type2=home_page_hit&type3=listener_adblock&type3.adblock=false&type3.vendor_id=100&type3.device_id=1880&type3.listener_id=716270507&type4=comscore&type4.event=http://www.pandora.com/&type4.is_error=false&type4.vendor_id=100&type4.device_code=1880&type4.app_version=0&type4.device_os=Chrome+51+(Windows)&type4.client_timestamp=2016-07-06+13:55:08&type4.listener_id=716270507&type5=search_action&type5.action=access&type5.listener_id=716270507&type5.vendor_id=100&type5.device_id=1880&type5.device_os=Chrome+51+(Windows)&type5.URL=/&type5.app_version=0&type5.sequence_number=0&type5.page_view=search&type5.view_mode=search_prompt&type5.source=station_list_top&type5.client_timestamp_ms=1467813309334&type6=mobile_view_mode&type6.page_view=anonymous_listening&type6.view_mode=station_search&type6.vendor_id=100&type6.device_id=1880&type6.device_code=1880&type6.device_os=Chrome+51+(Windows)&type6.client_timestamp=2016-07-06+13:55:09&type6.sequence_number=2&type6.listener_id=716270507&type7=mobile_view_mode&type7.page_view=anonymous_listening&type7.view_mode=station_search&type7.vendor_id=100&type7.device_id=1880&type7.device_code=1880&type7.device_os=Chrome+51+(Windows)&type7.client_timestamp=2016-07-06+13:55:10&type7.sequence_number=3&type7.listener_id=716270507&type8=search_action&type8.action=autocomplete&type8.listener_id=716270507&type8.vendor_id=100&type8.device_id=1880&type8.device_os=Chrome+51+(Windows)&type8.app_version=0&type8.sequence_number=2&type8.page_view=search&type8.view_mode=search_autocomplete_results&type8.client_timestamp_ms=1467813310299&type8.query=tr&type8.num_results_shown=13&type8.num_results_returned=13&type8.server_result_list=R434996,R165803,R77789,R381528,R250800,R180032,R401837,G1047,G623,G902,undefined,undefined,undefined&type8.client_result_list=R434996,G1047,R165803,G623,R77789,G902,R381528,R250800,R180032,R401837,undefined,undefined,undefined&type8.time_to_display_ms=146&type9=mobile_view_mode&type9.page_view=anonymous_listening&type9.view_mode=station_search&type9.vendor_id=100&type9.device_id=1880&type9.device_code=1880&type9.device_os=Chrome+51+(Windows)&type9.client_timestamp=2016-07-06+13:55:10&type9.sequence_number=4&type9.listener_id=716270507&type10=search_action&type10.action=autocomplete&type10.listener_id=716270507&type10.vendor_id=100&type10.device_id=1880&type10.device_os=Chrome+51+(Windows)&type10.app_version=0&type10.sequence_number=3&type10.page_view=search&type10.view_mode=search_autocomplete_results&type10.client_timestamp_ms=1467813310402&type10.query=tra&type10.num_results_shown=10&type10.num_results_returned=10&type10.server_result_list=R338697,R487678,R188587,R356988,G5,G3,G14,G11,G2&type10.client_result_list=undefined,R338697,G5,G3,G14,G11,R487678,R188587,G2,R356988&type10.time_to_display_ms=17&type11=search_action&type11.action=autocomplete&type11.listener_id=716270507&type11.vendor_id=100&type11.device_id=1880&type11.device_os=Chrome+51+(Windows)&type11.app_version=0&type11.sequence_number=3&type11.page_view=search&type11.view_mode=search_autocomplete_results&type11.client_timestamp_ms=1467813310490&type11.query=tra&type11.num_results_shown=12&type11.num_results_returned=12&type11.server_result_list=R434996,R77789,R381528,R401837,R410317,G1047,G623,G902,G528,G1209,undefined,undefined&type11.client_result_list=R434996,G1047,G623,R77789,G902,R381528,R401837,R410317,G528,G1209,undefined,undefined&type11.time_to_display_ms=105&type12=mobile_view_mode&type12.page_view=anonymous_listening&type12.view_mode=station_search&type12.vendor_id=100&type12.device_id=1880&type12.device_code=1880&type12.device_os=Chrome+51+(Windows)&type12.client_timestamp=2016-07-06+13:55:11&type12.sequence_number=5&type12.listener_id=716270507&type13=search_action&type13.action=autocomplete&type13.listener_id=716270507&type13.vendor_id=100&type13.device_id=1880&type13.device_os=Chrome+51+(Windows)&type13.app_version=0&type13.sequence_number=4&type13.page_view=search&type13.view_mode=search_autocomplete_results&type13.client_timestamp_ms=1467813311758&type13.query=trap&type13.num_results_shown=10&type13.num_results_returned=10&type13.server_result_list=G1047,R6448,R174204,R284129,R257669,G902,G1209,G1193,G1350,G1370&type13.client_result_list=G1047,G902,G1209,R6448,G1193,G1350,G1370,R174204,R284129,R257669&type13.time_to_display_ms=93&type14=mobile_view_mode&type14.page_view=anonymous_listening&type14.view_mode=station_search&type14.vendor_id=100&type14.device_id=1880&type14.device_code=1880&type14.device_os=Chrome+51+(Windows)&type14.client_timestamp=2016-07-06+13:55:12&type14.sequence_number=6&type14.listener_id=716270507&type15=search_action&type15.action=autocomplete&type15.listener_id=716270507&type15.vendor_id=100&type15.device_id=1880&type15.device_os=Chrome+51+(Windows)&type15.app_version=0&type15.sequence_number=5&type15.page_view=search&type15.view_mode=search_autocomplete_results&type15.client_timestamp_ms=1467813312761&type15.query=trap+a&type15.num_results_shown=1&type15.num_results_returned=1&type15.server_result_list=G1209&type15.client_result_list=G1209&type15.time_to_display_ms=88&type16=mobile_view_mode&type16.page_view=anonymous_listening&type16.view_mode=station_search&type16.vendor_id=100&type16.device_id=1880&type16.device_code=1880&type16.device_os=Chrome+51+(Windows)&type16.client_timestamp=2016-07-06+13:55:12&type16.sequence_number=7&type16.listener_id=716270507&type17=mobile_view_mode&type17.page_view=anonymous_listening&type17.view_mode=station_search&type17.vendor_id=100&type17.device_id=1880&type17.device_code=1880&type17.device_os=Chrome+51+(Windows)&type17.client_timestamp=2016-07-06+13:55:12&type17.sequence_number=8&type17.listener_id=716270507&type18=search_action&type18.action=autocomplete&type18.listener_id=716270507&type18.vendor_id=100&type18.device_id=1880&type18.device_os=Chrome+51+(Windows)&type18.app_version=0&type18.sequence_number=7&type18.page_view=search&type18.view_mode=search_autocomplete_results&type18.client_timestamp_ms=1467813312859&type18.query=trap+and&type18.num_results_shown=1&type18.num_results_returned=1&type18.server_result_list=G1209&type18.client_result_list=G1209&type18.time_to_display_ms=42&type19=mobile_view_mode&type19.page_view=anonymous_listening&type19.view_mode=station_search&type19.vendor_id=100&type19.device_id=1880&type19.device_code=1880&type19.device_os=Chrome+51+(Windows)&type19.client_timestamp=2016-07-06+13:55:12&type19.sequence_number=9&type19.listener_id=716270507&type20=search_action&type20.action=autocomplete&type20.listener_id=716270507&type20.vendor_id=100&type20.device_id=1880&type20.device_os=Chrome+51+(Windows)&type20.app_version=0&type20.sequence_number=7&type20.page_view=search&type20.view_mode=search_autocomplete_results&type20.client_timestamp_ms=1467813312905&type20.query=trap+and&type20.num_results_shown=1&type20.num_results_returned=1&type20.server_result_list=G1209&type20.client_result_list=G1209&type20.time_to_display_ms=88&type21=search_action&type21.action=select&type21.listener_id=716270507&type21.vendor_id=100&type21.device_id=1880&type21.device_os=Chrome+51+(Windows)&type21.app_version=0&type21.sequence_number=8&type21.page_view=search&type21.view_mode=search_autocomplete&type21.source=station_list_top&type21.client_timestamp_ms=1467813314172&type21.selected_result_id=G1209&type21.selected_index=0&type21.select_result_type=G&type21.client_result_list=G1209&type21.server_result_list=G1209&type21.num_results_shown=1&type21.num_results_returned=1&type21.selected_result_action=play&type21.query=trap+and&type21.new_station=false&type22=change_station&type22.station_id=3220173871448681387&type22.new_station=true&type22.listener_id=716270507&type23=backstage_page_hit&type24=change_station&type24.station_id=3220173871448681387&type24.new_station=true&type24.listener_id=716270507&type25=comscore&type25.event=http://www.pandora.com/station/play/3220173871448681387&type25.is_error=false&type25.vendor_id=100&type25.device_code=1880&type25.app_version=0&type25.device_os=Chrome+51+(Windows)&type25.client_timestamp=2016-07-06+13:55:14&type25.listener_id=716270507&type26=track_fetch&type26.is_prefetch=false&type26.audio_token=r1pxs20rb&type26.vendor_id=100&type26.device_code=1880&type26.device_id=076defd510dc8ee4e3563200b0569b90&type26.listener_id=716270507&type27=tuner_skips&type27.song_uid=S1937349&type27.user_seed=G1209&type27.station_id=3220173871448681387&type27.Q3=1&type27.skip_successful=true&type27.out_of_station_skips=false&type27.redesign=true&type28=skip_limit&type28.station_id=3220173871448681387&type28.at_station_skip_limit=false&type28.at_daily_skip_limit=false&type28.vendor_id=100&type28.device_code=1880&type28.app_version=0&type28.device_os=Chrome+51+(Windows)&type28.client_timestamp=2016-07-06+13:55:18&type28.listener_id=716270507&type29=playback_interactions&type29.action=skip&type29.station_id=3220173871448681387&type29.control_source=web_playback_controls&type29.user_initiated=true&type29.vendor_id=100&type29.device_code=1880&type29.app_version=0&type29.device_os=Chrome+51+(Windows)&type29.client_timestamp=2016-07-06+13:55:18&type29.listener_id=716270507&type30=track_end&type30.reason=skipped&type30.elapsed_seconds=1&type30.remaining_seconds=235&type30.audio_token=r1pxs20rb&type30.vendor_id=100&type30.device_code=1880&type30.device_id=076defd510dc8ee4e3563200b0569b90&type30.listener_id=716270507&type31=track_fetch&type31.is_prefetch=false&type31.audio_token=r1pxs20rc&type31.vendor_id=100&type31.device_code=1880&type31.device_id=076defd510dc8ee4e3563200b0569b90&type31.listener_id=716270507&type32=comscore&type32.event=http://www.pandora.com/station/play/3220173871448681387&type32.is_error=false&type32.vendor_id=100&type32.device_code=1880&type32.app_version=0&type32.device_os=Chrome+51+(Windows)&type32.client_timestamp=2016-07-06+13:55:18&type32.listener_id=716270507&type33=tuner_skips&type33.song_uid=S2591849&type33.user_seed=G1209&type33.station_id=3220173871448681387&type33.Q3=1&type33.skip_successful=true&type33.out_of_station_skips=false&type33.redesign=true&type34=skip_limit&type34.station_id=3220173871448681387&type34.at_station_skip_limit=false&type34.at_daily_skip_limit=false&type34.vendor_id=100&type34.device_code=1880&type34.app_version=0&type34.device_os=Chrome+51+(Windows)&type34.client_timestamp=2016-07-06+13:55:20&type34.listener_id=716270507&type35=playback_interactions&type35.action=skip&type35.station_id=3220173871448681387&type35.control_source=web_playback_controls&type35.user_initiated=true&type35.vendor_id=100&type35.device_code=1880&type35.app_version=0&type35.device_os=Chrome+51+(Windows)&type35.client_timestamp=2016-07-06+13:55:20&type35.listener_id=716270507&type36=track_end&type36.reason=skipped&type36.elapsed_seconds=1&type36.remaining_seconds=262&type36.audio_token=r1pxs20rc&type36.vendor_id=100&type36.device_code=1880&type36.device_id=076defd510dc8ee4e3563200b0569b90&type36.listener_id=716270507&type37=track_fetch&type37.is_prefetch=false&type37.audio_token=r1pxs20rd&type37.vendor_id=100&type37.device_code=1880&type37.device_id=076defd510dc8ee4e3563200b0569b90&type37.listener_id=716270507&type38=comscore&type38.event=http://www.pandora.com/station/play/3220173871448681387&type38.is_error=false&type38.vendor_id=100&type38.device_code=1880&type38.app_version=0&type38.device_os=Chrome+51+(Windows)&type38.client_timestamp=2016-07-06+13:55:20&type38.listener_id=716270507&type39=tuner_skips&type39.song_uid=S3025453&type39.user_seed=G1209&type39.station_id=3220173871448681387&type39.Q3=1&type39.skip_successful=true&type39.out_of_station_skips=false&type39.redesign=true&type40=skip_limit&type40.station_id=3220173871448681387&type40.at_station_skip_limit=false&type40.at_daily_skip_limit=false&type40.vendor_id=100&type40.device_code=1880&type40.app_version=0&type40.device_os=Chrome+51+(Windows)&type40.client_timestamp=2016-07-06+13:55:23&type40.listener_id=716270507&type41=playback_interactions&type41.action=skip&type41.station_id=3220173871448681387&type41.control_source=web_playback_controls&type41.user_initiated=true&type41.vendor_id=100&type41.device_code=1880&type41.app_version=0&type41.device_os=Chrome+51+(Windows)&type41.client_timestamp=2016-07-06+13:55:23&type41.listener_id=716270507&type42=track_end&type42.reason=skipped&type42.elapsed_seconds=1&type42.remaining_seconds=236&type42.audio_token=r1pxs20rd&type42.vendor_id=100&type42.device_code=1880&type42.device_id=076defd510dc8ee4e3563200b0569b90&type42.listener_id=716270507&type43=track_fetch&type43.is_prefetch=false&type43.audio_token=r1pxs20re&type43.vendor_id=100&type43.device_code=1880&type43.device_id=076defd510dc8ee4e3563200b0569b90&type43.listener_id=716270507&type44=comscore&type44.event=http://www.pandora.com/station/play/3220173871448681387&type44.is_error=false&type44.vendor_id=100&type44.device_code=1880&type44.app_version=0&type44.device_os=Chrome+51+(Windows)&type44.client_timestamp=2016-07-06+13:55:23&type44.listener_id=716270507&type45=tuner_skips&type45.song_uid=S3955075&type45.user_seed=G1209&type45.station_id=3220173871448681387&type45.Q3=0&type45.skip_successful=true&type45.out_of_station_skips=false&type45.redesign=true&type46=skip_limit&type46.station_id=3220173871448681387&type46.at_station_skip_limit=false&type46.at_daily_skip_limit=false&type46.vendor_id=100&type46.device_code=1880&type46.app_version=0&type46.device_os=Chrome+51+(Windows)&type46.client_timestamp=2016-07-06+13:55:26&type46.listener_id=716270507&type47=playback_interactions&type47.action=skip&type47.station_id=3220173871448681387&type47.control_source=web_playback_controls&type47.user_initiated=true&type47.vendor_id=100&type47.device_code=1880&type47.app_version=0&type47.device_os=Chrome+51+(Windows)&type47.client_timestamp=2016-07-06+13:55:26&type47.listener_id=716270507&type48=track_end&type48.reason=skipped&type48.elapsed_seconds=0&type48.remaining_seconds=266&type48.audio_token=r1pxs20re&type48.vendor_id=100&type48.device_code=1880&type48.device_id=076defd510dc8ee4e3563200b0569b90&type48.listener_id=716270507&type49=comscore&type49.event=http://www.pandora.com/station/play/3220173871448681387&type49.is_error=false&type49.vendor_id=100&type49.device_code=1880&type49.app_version=0&type49.device_os=Chrome+51+(Windows)&type49.client_timestamp=2016-07-06+13:55:26&type49.listener_id=716270507&type50=track_fetch&type50.is_prefetch=false&type50.audio_token=r1qonvaxc&type50.vendor_id=100&type50.device_code=1880&type50.device_id=076defd510dc8ee4e3563200b0569b90&type50.listener_id=716270507&_=1467813305264"
	urlMap[longurl] = true

	fail := false
	for k, v := range urlMap {
		if IsURL(k) != v {
			t.Error("URL Failed: \"", k, "\" returned: ", !v)
			fail = true
		}
	}
	if fail {
		t.Fail()
	}
}
